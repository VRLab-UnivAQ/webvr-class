!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Cambio Scena - Cappella Ventilj</title>
    <meta name="description" content="Cambio scena con A-Frame">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene raycaster="far: 100; objects: [link];" cursor="rayOrigin: mouse" camera-position environment>
      
      <!-- Asset per le immagini e i media -->
      <a-assets>
        <img id="scene1" crossOrigin="anonymous" src="foto/chiesa_1.jpeg">
        <img id="scene2" crossOrigin="anonymous" src="foto/chiesa_2.jpeg">
        <img id="logo" crossOrigin="anonymous" src="logo/villa_ventilj_logo.png">
      </a-assets>

      <!-- Immagine equirettangolare iniziale -->
      <a-sky id="sky" src="#scene1" rotation="0 0 0"></a-sky>

      <!-- Pulsante per cambiare visuale -->
      <a-box color="#000000" depth="0.5" height="0.5" width="0.5"
             position="0 0.5 -4"
             class="clickable"
             material="color: #000000"
             event-set__mouseenter="color: #444444"
             event-set__mouseleave="color: #000000"
             onclick="changeScene();">
        <a-text value="Cambia Scena" align="center" position="0 0.7 0" color="white"></a-text>
      </a-box>

      <!-- Cilindro per coprire il treppiedi con il logo -->
      <a-entity position="0 -2 0">
        <a-cylinder radius="0.5" height="0.1" color="#ffffff"></a-cylinder>
        <a-image src="#logo" position="0 0.2 0" width="0.5" height="0.5"></a-image>
      </a-entity>

      <!-- Controlli VR -->
      <a-entity id="leftHand" link-controls="hand: left"></a-entity>
      <a-entity id="rightHand" link-controls="hand: right"></a-entity>
    </a-scene>

    <script>
      let currentScene = 1; // Stato corrente della scena

      function changeScene() {
        const sky = document.querySelector('#sky');
        if (currentScene === 1) {
          sky.setAttribute('src', '#scene2');
          currentScene = 2; // Passa alla seconda scena
        } else {
          sky.setAttribute('src', '#scene1');
          currentScene = 1; // Torna alla prima scena
        }
      }
    </script>
  </body>
</html>
